INFO:     Started server process [30554]
INFO:     Waiting for application startup.
2025-10-02 02:19:56,205 - app.core.rag_engine - INFO - Initializing Business RAG Engine...
2025-10-02 02:19:56,212 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-02 02:19:56,212 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-02 02:19:56,212 INFO sqlalchemy.engine.Engine [generated in 0.00005s] ()
2025-10-02 02:19:56,212 INFO sqlalchemy.engine.Engine COMMIT
2025-10-02 02:19:56,213 - database.connection - INFO - Database connection initialized successfully
2025-10-02 02:19:56,254 - rag.vector_store - INFO - Vector store initialized successfully
2025-10-02 02:19:56,254 - agents.orchestrator - INFO - Agent orchestrator initialized successfully
2025-10-02 02:19:56,254 - app.core.rag_engine - INFO - Indexing business data...
2025-10-02 02:19:56,254 - app.core.rag_engine - INFO - Business RAG Engine initialized successfully
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8007 (Press CTRL+C to quit)
Business RAG Chatbot initialized successfully!
2025-10-02 02:20:11,149 - app.api.chat - INFO - Processing chat request: ¿Cuáles son nuestros productos de mejor rendimiento y sus ingresos?
2025-10-02 02:20:11,149 - app.core.rag_engine - INFO - Initializing Business RAG Engine...
2025-10-02 02:20:11,150 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-02 02:20:11,151 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-02 02:20:11,151 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ()
2025-10-02 02:20:11,151 INFO sqlalchemy.engine.Engine COMMIT
2025-10-02 02:20:11,151 - database.connection - INFO - Database connection initialized successfully
2025-10-02 02:20:11,154 - rag.vector_store - INFO - Vector store initialized successfully
2025-10-02 02:20:11,154 - agents.orchestrator - INFO - Agent orchestrator initialized successfully
2025-10-02 02:20:11,154 - app.core.rag_engine - INFO - Indexing business data...
2025-10-02 02:20:11,154 - app.core.rag_engine - INFO - Business RAG Engine initialized successfully
2025-10-02 02:20:11,154 - app.core.rag_engine - INFO - Processing query: ¿Cuáles son nuestros productos de mejor rendimiento y sus ingresos?
INFO:     127.0.0.1:50983 - "GET /api/v1/health HTTP/1.1" 200 OK
2025-10-02 02:20:13,258 - app.core.query_processor - ERROR - Error in LLM query analysis: Connection error.
2025-10-02 02:20:13,261 - app.core.query_processor - INFO - Query analysis: {'type': 'general_inquiry', 'intent': 'information_request', 'entities': ['products'], 'needs_sql': False, 'needs_analysis': False, 'needs_external_research': False, 'complexity': 'medium', 'suggested_tables': [], 'time_period': 'all_time', 'metrics': []}
2025-10-02 02:20:13,271 - rag.vector_store - INFO - Vector store initialized successfully
2025-10-02 02:20:15,090 - rag.vector_store - ERROR - Error generating embeddings: Connection error.
2025-10-02 02:20:15,113 - app.core.context_builder - INFO - Built context with 5 components
INFO:     127.0.0.1:50978 - "POST /api/v1/chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:51008 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51008 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51008 - "GET /api/v1/health HTTP/1.1" 200 OK
2025-10-02 02:20:30,428 - app.api.chat - INFO - Processing chat request: What are our top-performing products and their revenue?
2025-10-02 02:20:30,428 - app.core.rag_engine - INFO - Processing query: What are our top-performing products and their revenue?
2025-10-02 02:20:32,405 - app.core.query_processor - ERROR - Error in LLM query analysis: Connection error.
2025-10-02 02:20:32,406 - app.core.query_processor - INFO - Query analysis: {'type': 'general_inquiry', 'intent': 'information_request', 'entities': ['products', 'sales'], 'needs_sql': True, 'needs_analysis': False, 'needs_external_research': False, 'complexity': 'medium', 'suggested_tables': [], 'time_period': 'all_time', 'metrics': ['revenue']}
2025-10-02 02:20:34,191 - rag.vector_store - ERROR - Error generating embeddings: Connection error.
2025-10-02 02:20:34,196 - app.core.context_builder - INFO - Built context with 5 components
INFO:     127.0.0.1:51018 - "POST /api/v1/chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:51036 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51043 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51050 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:51050 - "GET /api/v1/documents/ HTTP/1.1" 200 OK
2025-10-02 02:21:07,967 - app.api.chat - INFO - Processing chat request: Generar reporte de rendimiento de ventas
2025-10-02 02:21:07,968 - app.core.rag_engine - INFO - Processing query: Generar reporte de rendimiento de ventas
2025-10-02 02:21:10,516 - app.core.query_processor - ERROR - Error in LLM query analysis: Connection error.
2025-10-02 02:21:10,516 - app.core.query_processor - INFO - Query analysis: {'type': 'report_generation', 'intent': 'information_request', 'entities': [], 'needs_sql': False, 'needs_analysis': False, 'needs_external_research': False, 'complexity': 'medium', 'suggested_tables': [], 'time_period': 'all_time', 'metrics': []}
INFO:     127.0.0.1:51075 - "GET /api/v1/health HTTP/1.1" 200 OK
2025-10-02 02:21:12,804 - rag.vector_store - ERROR - Error generating embeddings: Connection error.
2025-10-02 02:21:12,808 - app.core.context_builder - INFO - Built context with 5 components
INFO:     127.0.0.1:51051 - "POST /api/v1/chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:51091 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51091 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51091 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51091 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51101 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51118 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51135 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51151 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51151 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51151 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51151 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51177 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51187 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51197 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51215 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51215 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51215 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51224 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51237 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51250 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51263 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51263 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51263 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51273 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51301 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51317 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51317 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51317 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51327 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51331 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51338 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51346 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51367 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51367 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51367 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51367 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51379 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51389 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51397 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51408 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51408 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51408 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51415 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51427 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51432 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51446 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51446 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51446 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51459 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51467 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51475 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51508 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51512 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51522 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51530 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51548 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51558 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51576 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51588 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51600 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51618 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51628 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51710 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51747 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51754 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51768 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51797 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51804 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51821 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51836 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51846 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51863 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51885 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51892 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51927 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51943 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51956 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51965 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51982 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51988 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51994 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52021 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52031 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52035 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52063 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52071 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52073 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52100 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52117 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52122 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52152 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52171 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52172 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52195 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52216 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52217 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52236 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52247 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52250 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52271 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52288 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52290 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52305 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52325 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52326 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52343 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52358 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52359 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52372 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52383 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52384 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52393 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52412 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52414 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52443 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52465 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52467 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52486 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52499 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52504 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52515 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52530 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52531 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52546 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52583 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52634 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52810 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52949 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52952 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53073 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53319 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53410 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53558 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53846 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53960 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54112 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54281 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54302 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54333 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54360 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54364 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54379 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54394 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54400 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54434 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54455 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54459 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54469 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54492 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54497 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54521 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54542 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54554 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54567 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54584 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54594 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54610 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54626 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54632 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54644 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54657 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54668 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54687 - "GET /api/v1/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54714 - "GET /api/v1/health HTTP/1.1" 200 OK
